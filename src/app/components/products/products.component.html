<section>
  <div class="container">
    <div class="search-filter d-flex gap-1">
      <div class="search position-relative">
        <input
          class="form-control me-2"
          type="search"
          placeholder="بحث عن ..."
          aria-label="Search"
        />
        <div class="icon position-absolute top-0">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="17"
            height="16"
            viewBox="0 0 17 16"
            fill="none"
          >
            <path
              d="M7.91732 14.5C4.15065 14.5 1.08398 11.4333 1.08398 7.66668C1.08398 3.90001 4.15065 0.833344 7.91732 0.833344C11.684 0.833344 14.7507 3.90001 14.7507 7.66668C14.7507 11.4333 11.684 14.5 7.91732 14.5ZM7.91732 1.83334C4.69732 1.83334 2.08398 4.45334 2.08398 7.66668C2.08398 10.88 4.69732 13.5 7.91732 13.5C11.1373 13.5 13.7507 10.88 13.7507 7.66668C13.7507 4.45334 11.1373 1.83334 7.91732 1.83334Z"
              fill="#292D32"
            />
            <path
              d="M14.9176 15.1667C14.7909 15.1667 14.6643 15.12 14.5643 15.02L13.2309 13.6867C13.0376 13.4934 13.0376 13.1734 13.2309 12.98C13.4243 12.7867 13.7443 12.7867 13.9376 12.98L15.2709 14.3134C15.4643 14.5067 15.4643 14.8267 15.2709 15.02C15.1709 15.12 15.0443 15.1667 14.9176 15.1667Z"
              fill="#292D32"
            />
          </svg>
        </div>
      </div>
      <div
        class="filter rounded-3 d-flex justify-content-center align-items-center"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="15"
          height="16"
          viewBox="0 0 15 16"
          fill="none"
        >
          <path
            d="M6.8375 14.9062C6.5375 14.9062 6.24375 14.8313 5.96875 14.6813C5.41875 14.375 5.0875 13.8187 5.0875 13.1937V9.88125C5.0875 9.56875 4.88125 9.1 4.6875 8.8625L2.35 6.3875C1.95625 5.99375 1.65625 5.31875 1.65625 4.8125V3.375C1.65625 2.375 2.4125 1.59375 3.375 1.59375H11.625C12.575 1.59375 13.3438 2.3625 13.3438 3.3125V4.6875C13.3438 5.34375 12.95 6.0875 12.5812 6.45625L9.875 8.85C9.6125 9.06875 9.40625 9.55 9.40625 9.9375V12.625C9.40625 13.1812 9.05625 13.825 8.61875 14.0875L7.75625 14.6437C7.475 14.8187 7.15625 14.9062 6.8375 14.9062ZM3.375 2.53125C2.9375 2.53125 2.59375 2.9 2.59375 3.375V4.8125C2.59375 5.04375 2.78125 5.49375 3.01875 5.73125L5.4 8.2375C5.71875 8.63125 6.03125 9.2875 6.03125 9.875V13.1875C6.03125 13.5937 6.3125 13.7937 6.43125 13.8562C6.69375 14 7.0125 14 7.25625 13.85L8.125 13.2937C8.3 13.1875 8.475 12.85 8.475 12.625V9.9375C8.475 9.26875 8.8 8.53125 9.26875 8.1375L11.9438 5.76875C12.1563 5.55625 12.4125 5.05 12.4125 4.68125V3.3125C12.4125 2.88125 12.0625 2.53125 11.6313 2.53125H3.375Z"
            fill="#83899F"
          />
          <path
            d="M3.74833 7.46873C3.66083 7.46873 3.57958 7.44373 3.49833 7.39998C3.27958 7.26248 3.21083 6.96873 3.34833 6.74998L6.42958 1.81248C6.56708 1.59373 6.85458 1.52498 7.07333 1.66248C7.29208 1.79998 7.36083 2.08748 7.22333 2.30623L4.14208 7.24373C4.05458 7.38748 3.90458 7.46873 3.74833 7.46873Z"
            fill="#83899F"
          />
        </svg>
      </div>
    </div>

    <div class="tableBtns mt-3 d-flex justify-content-between">
      <div
        class="end d-flex text-center justify-content-around align-items-center"
      >
        <span class="flex-grow-1"
          >المنتجات <span class="count p-1">120</span>
        </span>
        <span class="flex-grow-1"
          >الخدمات <span class="count p-1">70</span>
        </span>
      </div>

      <div class="btns d-flex gap-1 position-relative">
            <button
            class="btn bg-white ms-1 d-flex justify-content-around align-items-center"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <path
                d="M2 5.16666H14C14.2733 5.16666 14.5 4.93999 14.5 4.66666C14.5 4.39332 14.2733 4.16666 14 4.16666H2C1.72667 4.16666 1.5 4.39332 1.5 4.66666C1.5 4.93999 1.72667 5.16666 2 5.16666Z"
                fill="#0771DE"
              />
              <path
                d="M2 8.5H14C14.2733 8.5 14.5 8.27333 14.5 8C14.5 7.72667 14.2733 7.5 14 7.5H2C1.72667 7.5 1.5 7.72667 1.5 8C1.5 8.27333 1.72667 8.5 2 8.5Z"
                fill="#0771DE"
              />
              <path
                d="M2 11.8333H14C14.2733 11.8333 14.5 11.6067 14.5 11.3333C14.5 11.06 14.2733 10.8333 14 10.8333H2C1.72667 10.8333 1.5 11.06 1.5 11.3333C1.5 11.6067 1.72667 11.8333 2 11.8333Z"
                fill="#0771DE"
              />
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="14"
              height="14"
              viewBox="0 0 14 14"
              fill="none"
            >
              <path
                d="M2.4675 6.56249H4.82417C5.99667 6.56249 6.5625 6.04332 6.5625 4.96999V2.32166C6.5625 1.24832 5.99083 0.729156 4.82417 0.729156H2.4675C1.295 0.729156 0.729167 1.24832 0.729167 2.32166V4.96416C0.729167 6.04332 1.30083 6.56249 2.4675 6.56249ZM4.82417 1.60416C5.60583 1.60416 5.6875 1.82582 5.6875 2.32166V4.96416C5.6875 5.46582 5.60583 5.68166 4.82417 5.68166H2.4675C1.68583 5.68166 1.60417 5.45999 1.60417 4.96416V2.32166C1.60417 1.81999 1.68583 1.60416 2.4675 1.60416H4.82417Z"
                fill="#83899F"
              />
              <path
                d="M2.4675 13.2708H4.82417C5.99667 13.2708 6.5625 12.6992 6.5625 11.5325V9.17583C6.5625 8.00333 5.99083 7.4375 4.82417 7.4375H2.4675C1.295 7.4375 0.729167 8.00917 0.729167 9.17583V11.5325C0.729167 12.6992 1.30083 13.2708 2.4675 13.2708ZM4.82417 8.3125C5.5125 8.3125 5.6875 8.4875 5.6875 9.17583V11.5325C5.6875 12.2208 5.5125 12.3958 4.82417 12.3958H2.4675C1.77917 12.3958 1.60417 12.2208 1.60417 11.5325V9.17583C1.60417 8.4875 1.77917 8.3125 2.4675 8.3125H4.82417Z"
                fill="#83899F"
              />
              <path
                d="M9.17551 6.56249H11.5322C12.7047 6.56249 13.2705 6.04332 13.2705 4.96999V2.32166C13.2705 1.24832 12.6988 0.729156 11.5322 0.729156H9.17551C8.00301 0.729156 7.43717 1.24832 7.43717 2.32166V4.96416C7.43717 6.04332 8.00884 6.56249 9.17551 6.56249ZM11.5322 1.60416C12.3138 1.60416 12.3955 1.82582 12.3955 2.32166V4.96416C12.3955 5.46582 12.3138 5.68166 11.5322 5.68166H9.17551C8.39384 5.68166 8.31217 5.45999 8.31217 4.96416V2.32166C8.31217 1.81999 8.39384 1.60416 9.17551 1.60416H11.5322Z"
                fill="#83899F"
              />
              <path
                d="M9.17551 13.2708H11.5322C12.7047 13.2708 13.2705 12.6992 13.2705 11.5325V9.17583C13.2705 8.00333 12.6988 7.4375 11.5322 7.4375H9.17551C8.00301 7.4375 7.43717 8.00917 7.43717 9.17583V11.5325C7.43717 12.6992 8.00884 13.2708 9.17551 13.2708ZM11.5322 8.3125C12.2205 8.3125 12.3955 8.4875 12.3955 9.17583V11.5325C12.3955 12.2208 12.2205 12.3958 11.5322 12.3958H9.17551C8.48717 12.3958 8.31217 12.2208 8.31217 11.5325V9.17583C8.31217 8.4875 8.48717 8.3125 9.17551 8.3125H11.5322Z"
                fill="#83899F"
              />
            </svg>
          </button>

            <button class="btn btn-primary">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="15"
                height="16"
                viewBox="0 0 15 16"
                fill="none"
              >
                <path
                  d="M11.8754 14.7188C11.0004 14.7188 10.1816 14.3375 9.61914 13.6688C9.61289 13.6563 9.57539 13.625 9.54414 13.575C9.47539 13.5062 9.39414 13.3812 9.32539 13.2625C9.05039 12.8187 8.90039 12.2937 8.90039 11.7437C8.90039 10.8312 9.30664 9.98752 10.0129 9.42502C10.5379 9.00627 11.2004 8.77499 11.8691 8.77499C12.5941 8.77499 13.2629 9.02501 13.8004 9.49376C13.8754 9.54376 13.9629 9.63751 14.0441 9.72501C14.5504 10.2813 14.8316 10.9937 14.8316 11.7375C14.8316 12.2812 14.6816 12.8125 14.4004 13.2687C14.2504 13.5312 14.0441 13.7687 13.8066 13.9687C13.3004 14.4562 12.6066 14.7188 11.8754 14.7188ZM11.8754 9.71875C11.4129 9.71875 10.9754 9.87498 10.6066 10.1687C10.1254 10.55 9.84414 11.1312 9.84414 11.75C9.84414 12.1188 9.94414 12.4812 10.1379 12.7937C10.1879 12.8812 10.2379 12.95 10.2941 13.0188C10.3066 13.0313 10.3441 13.0688 10.3754 13.1188C10.7191 13.525 11.2816 13.7875 11.8754 13.7875C12.3691 13.7875 12.8441 13.6063 13.2066 13.2813C13.3691 13.1438 13.5066 12.9813 13.6066 12.8063C13.8066 12.4875 13.9066 12.125 13.9066 11.7563C13.9066 11.25 13.7129 10.7562 13.3629 10.375C13.3191 10.325 13.2691 10.275 13.2191 10.2375C12.8254 9.88751 12.3691 9.71875 11.8754 9.71875Z"
                  fill="white"
                />
                <path
                  d="M12.8063 12.2062H10.9375C10.6813 12.2062 10.4688 11.9937 10.4688 11.7375C10.4688 11.4812 10.6813 11.2687 10.9375 11.2687H12.8063C13.0625 11.2687 13.275 11.4812 13.275 11.7375C13.275 11.9937 13.0688 12.2062 12.8063 12.2062Z"
                  fill="white"
                />
                <path
                  d="M11.875 13.1625C11.6188 13.1625 11.4062 12.95 11.4062 12.6938V10.825C11.4062 10.5688 11.6188 10.3563 11.875 10.3563C12.1313 10.3563 12.3438 10.5688 12.3438 10.825V12.6938C12.3438 12.9563 12.1313 13.1625 11.875 13.1625Z"
                  fill="white"
                />
                <path
                  d="M7.50032 8.81241C7.41907 8.81241 7.33782 8.79368 7.26282 8.74993L1.74407 5.55619C1.51907 5.42494 1.44408 5.13742 1.57533 4.91242C1.70658 4.68742 1.99407 4.61241 2.21282 4.74366L7.49408 7.79992L12.7441 4.76243C12.9691 4.63118 13.2566 4.71244 13.3816 4.93119C13.5128 5.15619 13.4316 5.44367 13.2128 5.57492L7.73157 8.74993C7.66282 8.78743 7.58157 8.81241 7.50032 8.81241Z"
                  fill="white"
                />
                <path
                  d="M7.5 14.4749C7.24375 14.4749 7.03125 14.2624 7.03125 14.0061V8.33737C7.03125 8.08112 7.24375 7.86862 7.5 7.86862C7.75625 7.86862 7.96875 8.08112 7.96875 8.33737V14.0061C7.96875 14.2624 7.75625 14.4749 7.5 14.4749Z"
                  fill="white"
                />
                <path
                  d="M7.4998 14.7187C6.9498 14.7187 6.3998 14.5999 5.9748 14.3562L2.6373 12.5062C1.73105 12.0062 1.01855 10.8 1.01855 9.76246V6.22494C1.01855 5.18744 1.73105 3.98746 2.6373 3.48121L5.9748 1.6312C6.8248 1.14995 8.1623 1.14995 9.01855 1.6312L12.3561 3.48121C13.2623 3.98121 13.9748 5.18744 13.9748 6.22494V9.76246C13.9748 9.82496 13.9748 9.87494 13.9623 9.93744C13.931 10.0999 13.8123 10.2374 13.6561 10.2874C13.4998 10.3437 13.3248 10.3062 13.1936 10.2C12.4748 9.57497 11.3623 9.54996 10.6061 10.1562C10.1248 10.5375 9.84355 11.1187 9.84355 11.7374C9.84355 12.1062 9.94355 12.4687 10.1373 12.7812C10.1873 12.8687 10.2373 12.9375 10.2936 13.0062C10.3873 13.1125 10.4248 13.2562 10.3998 13.3937C10.3748 13.5312 10.2873 13.65 10.1623 13.7187L9.01855 14.3499C8.59355 14.5999 8.0498 14.7187 7.4998 14.7187ZM7.4998 2.2187C7.1123 2.2187 6.71855 2.29996 6.4373 2.45621L3.09981 4.30622C2.49356 4.63747 1.96855 5.53744 1.96855 6.22494V9.76246C1.96855 10.45 2.49981 11.35 3.09981 11.6812L6.4373 13.5312C7.00605 13.8499 7.99981 13.8499 8.56856 13.5312L9.26855 13.1437C9.0373 12.7249 8.9123 12.2374 8.9123 11.7374C8.9123 10.8249 9.31855 9.98122 10.0248 9.41872C10.8748 8.73746 12.0935 8.59369 13.0435 8.99994V6.21246C13.0435 5.52496 12.5123 4.62496 11.9123 4.29371L8.5748 2.44369C8.28105 2.29994 7.8873 2.2187 7.4998 2.2187Z"
                  fill="white"
                />
              </svg>
              إضافة جديد
            </button>
      </div>
    </div>

    <!-- <div class="myTable">
      <div class="myTableIsResp">
        <table class="table table-borderless align-middle">
          <thead class="">
            <tr>
              <th>#</th>
              <th>المنتجات</th>
              <th>سعر البيع</th>
              <th>الكمية</th>
              <th>حالة المنتج</th>
              <th>التصنيف</th>
              <th>الضريبة %</th>
              <th>الحد الأدني</th>
              <th>الخصم</th>
              <th>معدل البيع</th>
              <th>

                <span>
                  <img src="../../../assets/imgs/headerIcon.svg" alt="icon">
                </span>

              </th>
            </tr>
          </thead>
          <tbody class="table-group-divider">

            <ng-container *ngFor="let item of [1,2,3,4]">
              <tr  appMyTooltip [appTooltip]="'عرض المنتج'" [appTooltipPosotion]="'bottom'"  *ngIf="isLooding" bgcolor="red" class="position-relative">
                <td scope="row">{{item}}</td>
                <td class="d-flex gap-1 align-items-center">
                  <figure>
                    <img class="img-fluid" src="./../../../assets/imgs/3fe9bfbc1cfc318a1309b07c02d57c50.png" alt="icon">
                  </figure>
                  <figcaption class="d-flex flex-column">
                    <span >شنطة سفر متميزة</span>
                    <span>126565958987</span>
                  </figcaption>
                </td>
                <td>$3,000</td>

                <td>30 قطعة</td>
                <td><span class="availability p-2">
                 <img src="../../../assets/imgs/rightIcon.svg" alt="icon">
                  متوفر
                </span></td>
                <td>
                  <span class="classefication">
                    <img src="../../../assets/imgs/hairCutIcon.svg" alt="icon">
                    قص الشعر
                  </span>
                </td>
                <td>% 14</td>
                <td>50 قطعة</td>
                <td>$200</td>
                <td>
                  <img src="../../../assets/imgs/chartIcon.svg" alt="icon">
                </td>
                <td (click)="showPopUp()" role="button" class="lastTd d-flex justify-content-between">
                  <span class="rounded-3 p-2 d-flex align-items-center justify-content-center">
                    <img src="../../../assets/imgs/eyeIcon.svg" alt="icon">
                  </span>
                  <span>
                    <img src="../../../assets/imgs/editIcon.svg" alt="icon">
                  </span>
                  <span>
                    <img src="../../../assets/imgs/treeDots.svg" alt="icon">
                  </span>
                </td>

              </tr>
            </ng-container>




          </tbody>


        </table>
        <div *ngIf="!isLooding" class="item w-100">
          <ngx-skeleton-loader count="4" [theme]="{backgroundColor:'#0071de', height:'40px'}" appearance="line"></ngx-skeleton-loader>
        </div>

      </div>
    </div> -->

  <div class="myTable">
    <p-table [columns]="cols" [reorderableColumns]="true" [value]="Products" [rowHover]="true" styleClass="p-datatable	p-datatable-header	" responsiveLayout="stack" [breakpoint]="'991px'" >
        <ng-template pTemplate="header" let-columns>
            <tr ngClass="header">
              <ng-container *ngFor="let col of columns" >
                <th *ngIf="col.field != 'setting'" pReorderableColumn>
                    {{col.header}}
                </th>

                <th class="text-center" *ngIf="col.field == 'setting'" pReorderableColumn>
                  <span>
                    <img src="../../../assets/imgs/headerIcon.svg" alt="icon">
                  </span>
                </th>
              </ng-container>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr #card ngClass="mobileVeiwCard" (click)="toggleCard(card)">

              <ng-container *ngFor="let col of columns">

                <!-- all data expected services, sellingRate and setting -->
                <td class="tablRows" *ngIf="col.field != 'services' && col.field != 'sellingRate' && col.field != 'setting' && col.field != 'category' && col.field != 'serviceCondition' ">
                  <span class="p-column-title text-secondary" *ngIf="col.field != 'setting'"> {{ col.header }}</span>
                  <span *ngIf="isLooding">
                   {{ rowData[col.field] }}
                  </span>

                  <div *ngIf="!isLooding" class="item w-100">
                    <ngx-skeleton-loader count="1" [theme]="{height:'20px'}" appearance="line"></ngx-skeleton-loader>
                  </div>
                </td>

                <!-- check if we are in service property because it contain object have three properties {type: , phone: , img:  } -->
                <td class="tablRows" *ngIf="col.field == 'services'" class="d-flex gap-1 align-items-center">
                  <!-- show header name for mobile view -->
                  <span class="p-column-title text-end text-secondary"> {{ col.header }}</span>

                  <figure>
                    <div *ngIf="!isLooding" class="item w-100">
                      <ngx-skeleton-loader count="1" [theme]="{height:'20px'}" appearance="line"></ngx-skeleton-loader>
                    </div>
                    <img *ngIf="isLooding" class="img-fluid shadow rounded-3" [src]="rowData[col.field].img" alt="icon">
                  </figure>
                  <figcaption class="d-flex flex-column">
                    <span *ngIf="isLooding">{{rowData[col.field].type}}</span>
                    <span *ngIf="isLooding">{{rowData[col.field].phone}}</span>

                    <div *ngIf="!isLooding" class="item w-100">
                      <ngx-skeleton-loader count="1" [theme]="{height:'10px'}" appearance="line"></ngx-skeleton-loader>
                    </div>
                  </figcaption>

                </td>

                <!-- same as servies property -->
                <td class="tablRows" *ngIf="col.field == 'sellingRate'">
                  <!-- show header name for mobile view -->
                  <span class="p-column-title text-end text-secondary"> {{ col.header }}</span>

                  <img *ngIf="isLooding" src="../../../assets/imgs/chartIcon.svg" alt="icon">

                  <div *ngIf="!isLooding" class="item w-100">
                    <ngx-skeleton-loader count="1" [theme]="{height:'20px'}" appearance="line"></ngx-skeleton-loader>
                  </div>
                </td>

                <!-- same as servies property -->
                <td class="tablRows" *ngIf="col.field == 'setting'">
                  <!-- for mobile view (show setting icon on header) -->
                  <span class="p-column-title text-end text-secondary">
                    <img src="../../../assets/imgs/headerIcon.svg" alt="icon">
                  </span>
                  <span class="ms-2">
                    <img src="../../../assets/imgs/editIcon.svg" alt="icon">
                  </span>
                  <span>
                    <img src="../../../assets/imgs/treeDots.svg" alt="icon">
                  </span>
                </td>

                <!-- same as servies property -->
                <td class="tablRows" *ngIf="col.field == 'category' ">
                  <span class="p-column-title text-end text-secondary"> {{ col.header }}</span>
                  <span *ngIf="isLooding" class="classefication">
                    <img [src]="rowData[col.field].icon" alt="icon">
                  {{rowData[col.field].cName}}
                  </span>



                  <div *ngIf="!isLooding" class="item w-100">
                    <ngx-skeleton-loader count="1" [theme]="{height:'20px'}" appearance="line"></ngx-skeleton-loader>
                  </div>
                </td>

                <!-- same as servies property -->
                <td class="tablRows" *ngIf="col.field == 'serviceCondition' ">
                  <span class="p-column-title text-secondary">{{ col.header }}</span>
                  <span *ngIf="isLooding" class="availability text-end p-2">
                    <img [src]="rowData[col.field].icon" alt="icon">
                    {{rowData[col.field].Sname}}
                  </span>

                  <div *ngIf="!isLooding" class="item w-100">
                    <ngx-skeleton-loader count="1" [theme]="{height:'20px'}" appearance="line"></ngx-skeleton-loader>
                  </div>
                </td>

              </ng-container>
            </tr>
        </ng-template>
    </p-table>
</div>
  </div>
</section>
